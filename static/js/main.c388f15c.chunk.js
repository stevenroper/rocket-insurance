(this["webpackJsonpsure-rocket-insurance"]=this["webpackJsonpsure-rocket-insurance"]||[]).push([[0],{296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n,i=a(0),l=a.n(i),o=a(42),r=a.n(o),c=a(70),d=a(53),s=a(158),u=a(23),m=a(343),j=a(335),b=a(344),f="/rating-information",O="/quote-overview",v=a(3),h=a(22),x=a(25),p=(a(93),a(345)),g=a(159),N=a(336),y=a(338),A=a(339),q=a(340),C=a(346),S=a(349),I=a(2),w=function(e){var t=e.message;return Object(I.jsxs)(m.a,{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:"100",sx:{backdropFilter:"blur(5px)"},children:[Object(I.jsx)(m.a,{height:"100%",width:"100%",sx:{backgroundColor:"white",opacity:.75,position:"absolute"}}),t&&Object(I.jsx)(b.a,{variant:"h5",textAlign:"center",zIndex:"200",marginBottom:"1rem",children:t}),Object(I.jsx)(S.a,{})]})},T=a(18),M=a.n(T),k=a(31),_="https://fed-challenge-api.sure.now.sh/api/v1/quotes",D={headers:{Accept:"application/json"}},B=function(){var e=Object(k.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_,Object(h.a)(Object(h.a)({},D),{},{method:"POST",body:JSON.stringify(t)}));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(M.a.mark((function e(t,a){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_,"/").concat(t),Object(h.a)(Object(h.a)({},D),{},{method:"PUT",body:JSON.stringify(a)}));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.useQueryClient)();return{clearState:function(){return e.removeQueries("quote")},state:Object(d.useQuery)("quote",(function(){return e.getQueryData("quote")}),{staleTime:1/0,cacheTime:1/0}).data,updateState:function(t){return e.setQueryData("quote",t)}}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isNaN(e)?e:e.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:t})},z=function(e){var t,a,n,i=e.disabled,l=void 0!==i&&i,o=e.name,r=e.onChange,c=Object(x.g)().control,d=W().state;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(x.a,{name:o,control:c,render:function(e){var t,a,n,i,c,s,u,m,j,b,f=e.field;return Object(I.jsxs)(A.a,{fullWidth:!0,sx:{marginBottom:"0.5rem"},children:[Object(I.jsx)(q.a,{id:"".concat(o,"-select"),children:null===d||void 0===d||null===(t=d.quote)||void 0===t||null===(a=t.variable_options)||void 0===a||null===(n=a[o])||void 0===n?void 0:n.title}),Object(I.jsx)(N.a,Object(h.a)(Object(h.a)({labelId:"".concat(o,"-select"),label:null===d||void 0===d||null===(i=d.quote)||void 0===i||null===(c=i.variable_options)||void 0===c||null===(s=c[o])||void 0===s?void 0:s.title,disabled:l},f),{},{onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){f.onChange(e),r(Object(v.a)({},o,e.target.value))})),children:(null!==(u=null===d||void 0===d||null===(m=d.quote)||void 0===m||null===(j=m.variable_options)||void 0===j||null===(b=j[o])||void 0===b?void 0:b.values)&&void 0!==u?u:[]).map((function(e){return Object(I.jsx)(y.a,{value:e,children:V(e)},e)}))}))]})}}),Object(I.jsx)(b.a,{variant:"caption",component:"p",marginBottom:"2rem",children:null===d||void 0===d||null===(t=d.quote)||void 0===t||null===(a=t.variable_options)||void 0===a||null===(n=a[o])||void 0===n?void 0:n.description})]})},L=function(){var e,t,a,n,i,l=W(),o=l.clearState,r=l.state,c=function(){var e=W(),t=e.state,a=e.updateState;return Object(d.useMutation)((function(e){var a,n,i,l,o;return P(null===t||void 0===t||null===(a=t.quote)||void 0===a?void 0:a.quoteId,{quote:{quoteId:null===t||void 0===t||null===(n=t.quote)||void 0===n?void 0:n.quoteId,rating_address:null===t||void 0===t||null===(i=t.quote)||void 0===i?void 0:i.rating_address,policy_holder:null===t||void 0===t||null===(l=t.quote)||void 0===l?void 0:l.policy_holder,variable_selections:Object(h.a)(Object(h.a)({},null===t||void 0===t||null===(o=t.quote)||void 0===o?void 0:o.variable_selections),e)}})}),{onSuccess:function(e){return a(e)}})}(),s=c.isLoading,j=c.mutate,O=Object(u.g)().push,v=Object(x.f)({defaultValues:{deductible:null===r||void 0===r||null===(e=r.quote)||void 0===e||null===(t=e.variable_selections)||void 0===t?void 0:t.deductible,asteroid_collision:null===r||void 0===r||null===(a=r.quote)||void 0===a||null===(n=a.variable_selections)||void 0===n?void 0:n.asteroid_collision}});return(null===r||void 0===r?void 0:r.quote)?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(p.a,{elevation:1,sx:{width:"100%",maxWidth:"30rem",position:"relative"},children:[s&&Object(I.jsx)(w,{message:"Updating quote"}),Object(I.jsxs)(m.a,{padding:"2rem 1.5rem",children:[Object(I.jsx)(b.a,{variant:"h4",component:"h2",textAlign:"center",children:"Your Quote"}),Object(I.jsxs)(m.a,{display:"flex",flexDirection:"column",alignItems:"center",padding:"1rem",border:"1px solid ".concat(g.a[300]),marginY:"1rem",children:[Object(I.jsx)(b.a,{variant:"h5",component:"h3",marginBottom:"0.5rem",children:"Yearly Premium"}),Object(I.jsx)(b.a,{variant:"h3",component:"p",fontWeight:"500",color:"#214e34",children:V(null===r||void 0===r||null===(i=r.quote)||void 0===i?void 0:i.premium)})]}),Object(I.jsx)(b.a,{variant:"h6",component:"h3",margin:"2rem 0 1rem 0",textAlign:"center",children:"Adjust policy coverage variables"}),Object(I.jsxs)(x.b,Object(h.a)(Object(h.a)({},v),{},{children:[Object(I.jsx)(z,{name:"deductible",onChange:j,disabled:s}),Object(I.jsx)(z,{name:"asteroid_collision",onChange:j,disabled:s})]})),Object(I.jsx)(m.a,{display:"flex",justifyContent:"center",children:Object(I.jsx)(C.a,{onClick:function(){O(f),o()},children:"Restart quote"})})]})]}),false]}):Object(I.jsx)(u.a,{to:f})},Q=a(78),F=a(166),R=a(48),Y=a(348),H=a(347),J=[{fullName:"Alabama",code:"AL"},{fullName:"Alaska",code:"AK"},{fullName:"Arizona",code:"AZ"},{fullName:"Arkansas",code:"AR"},{fullName:"California",code:"CA"},{fullName:"Colorado",code:"CO"},{fullName:"Connecticut",code:"CT"},{fullName:"Delaware",code:"DE"},{fullName:"District of Columbia",code:"DC"},{fullName:"Florida",code:"FL"},{fullName:"Georgia",code:"GA"},{fullName:"Hawaii",code:"HI"},{fullName:"Idaho",code:"ID"},{fullName:"Illinois",code:"IL"},{fullName:"Indiana",code:"IN"},{fullName:"Iowa",code:"IA"},{fullName:"Kansas",code:"KS"},{fullName:"Kentucky",code:"KY"},{fullName:"Louisiana",code:"LA"},{fullName:"Maine",code:"ME"},{fullName:"Maryland",code:"MD"},{fullName:"Massachusetts",code:"MA"},{fullName:"Michigan",code:"MI"},{fullName:"Minnesota",code:"MN"},{fullName:"Mississippi",code:"MS"},{fullName:"Missouri",code:"MO"},{fullName:"Montana",code:"MT"},{fullName:"Nebraska",code:"NE"},{fullName:"Nevada",code:"NV"},{fullName:"New Hampshire",code:"NH"},{fullName:"New Jersey",code:"NJ"},{fullName:"New Mexico",code:"NM"},{fullName:"New York",code:"NY"},{fullName:"North Carolina",code:"NC"},{fullName:"North Dakota",code:"ND"},{fullName:"Ohio",code:"OH"},{fullName:"Oklahoma",code:"OK"},{fullName:"Oregon",code:"OR"},{fullName:"Pennsylvania",code:"PA"},{fullName:"Rhode Island",code:"RI"},{fullName:"South Carolina",code:"SC"},{fullName:"South Dakota",code:"SD"},{fullName:"Tennessee",code:"TN"},{fullName:"Texas",code:"TX"},{fullName:"Utah",code:"UT"},{fullName:"Vermont",code:"VT"},{fullName:"Virginia",code:"VA"},{fullName:"Washington",code:"WA"},{fullName:"West Virginia",code:"WV"},{fullName:"Wisconsin",code:"WI"},{fullName:"Wyoming",code:"WY"}],K=function(e){var t=e.children,a=Object(Q.a)(e,["children"]);return Object(I.jsx)(m.a,Object(h.a)(Object(h.a)({display:"grid",gap:"1rem"},a),{},{children:t}))},U="firstName",E="lastName",G="line1",Z="line2",X="city",$="state",ee="zipCode",te=function(e){var t,a=e.gridArea,n=e.name,i=Object(Q.a)(e,["gridArea","name"]),l=Object(x.g)(),o=l.control,r=l.formState.errors,c=null===r||void 0===r||null===(t=r[n])||void 0===t?void 0:t.message;return Object(I.jsx)(x.a,{name:n,control:o,render:function(e){var t=e.field;return Object(I.jsx)(Y.a,Object(h.a)(Object(h.a)({variant:"outlined",error:Boolean(c),helperText:c,sx:{gridArea:a}},t),i))}})},ae=function(e){var t=e.children,a=e.gridArea;Object(Q.a)(e,["children","gridArea"]);return Object(I.jsx)(b.a,{variant:"h6",component:"h2",sx:{gridArea:a},children:t})},ne=R.a((n={},Object(v.a)(n,U,R.b().required("Please enter a first name to continue.")),Object(v.a)(n,E,R.b().required("Please enter a last name to continue.")),Object(v.a)(n,G,R.b().required("Please enter a street address to continue.")),Object(v.a)(n,Z,R.b()),Object(v.a)(n,X,R.b().required("Please enter a city to continue.")),Object(v.a)(n,$,R.b().required("Please select a state to continue.")),Object(v.a)(n,ee,R.b().matches(/^\d{5}$/,"Please enter a valid, 5-digit zip code to continue.").required("Please enter a zip code to continue.")),n)),ie=function(){var e,t,a,n,i=function(){var e=Object(u.g)().push,t=W().updateState;return Object(d.useMutation)(B,{onSuccess:function(a){t(a),e(O)}})}(),l=i.mutate,o=i.isLoading,r=Object(x.f)({defaultValues:(e={},Object(v.a)(e,U,""),Object(v.a)(e,E,""),Object(v.a)(e,G,""),Object(v.a)(e,Z,""),Object(v.a)(e,X,""),Object(v.a)(e,$,""),Object(v.a)(e,ee,""),e),resolver:Object(F.a)(ne)}),c=null===r||void 0===r||null===(t=r.formState)||void 0===t||null===(a=t.errors)||void 0===a||null===(n=a[$])||void 0===n?void 0:n.message;return Object(I.jsxs)(p.a,{elevation:1,sx:{width:"100%",maxWidth:"40rem",position:"relative"},children:[o&&Object(I.jsx)(w,{message:"Generating quote"}),Object(I.jsx)(x.b,Object(h.a)(Object(h.a)({},r),{},{children:Object(I.jsxs)("form",{onSubmit:r.handleSubmit((function(e){return l({first_name:e[U],last_name:e[E],address:{line_1:e[G],line_2:e[Z],city:e[X],region:e[$],postal:e[ee]}})})),children:[Object(I.jsxs)(K,{padding:"2rem 1.5rem",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gridTemplateAreas:{xs:'\n                "nameTitle"\n                "firstName"\n                "lastName"\n                "addressTitle"\n                "line1"\n                "line2"\n                "city"\n                "state"\n                "zipCode"\n                "submitButton"\n              ',md:'\n                "nameTitle nameTitle"\n                "firstName lastName"\n                "addressTitle addressTitle"\n                "line1 line1"\n                "line2 city"\n                "state zipCode"\n                "submitButton submitButton"\n              '},children:[Object(I.jsx)(ae,{gridArea:"nameTitle",children:"Name"}),Object(I.jsx)(te,{label:"First name",gridArea:"firstName",name:U,disabled:o}),Object(I.jsx)(te,{label:"Last name",gridArea:"lastName",name:E,disabled:o}),Object(I.jsx)(ae,{gridArea:"addressTitle",children:"Address"}),Object(I.jsx)(te,{label:"Street address",gridArea:"line1",name:G,disabled:o}),Object(I.jsx)(te,{label:"Apartment, unit, suite",gridArea:"line2",name:Z,disabled:o}),Object(I.jsx)(te,{label:"City",gridArea:"city",name:X,disabled:o}),Object(I.jsx)(x.a,{name:$,control:r.control,render:function(e){var t=e.field;return Object(I.jsxs)(A.a,{children:[Object(I.jsx)(q.a,{id:"state-dropdown",children:"State"}),Object(I.jsx)(N.a,Object(h.a)(Object(h.a)({labelId:"state-dropdown",label:"State",error:Boolean(c)},t),{},{children:J.map((function(e){return Object(I.jsx)(y.a,{value:e.code,children:e.fullName},e.code)}))})),Boolean(c)&&Object(I.jsx)(H.a,{error:!0,children:c})]})}}),Object(I.jsx)(te,{label:"Zip code",gridArea:"zipCode",name:ee,disabled:o}),Object(I.jsx)(m.a,{display:"flex",justifyContent:"center",marginTop:"1rem",sx:{gridArea:"submitButton"},children:Object(I.jsx)(C.a,{variant:"contained",type:"submit",sx:{width:{xs:"100%",md:"fit-content"}},disabled:o||r.formState.isSubmitted&&!r.formState.isValid,children:"Get quote"})})]}),false]})}))]})};var le=function(){return Object(I.jsxs)(m.a,{minHeight:"calc(100vh - 2rem)",display:"flex",flexDirection:"column",alignItems:"center",padding:"1rem",sx:{backgroundColor:j.a[600]},children:[Object(I.jsx)(b.a,{component:"h1",variant:"h2",fontWeight:"700",marginBottom:"2rem",color:"#214e34",textAlign:"center",children:"Rocket Insurance"}),Object(I.jsxs)(u.d,{children:[Object(I.jsx)(u.b,{path:f,component:ie}),Object(I.jsx)(u.b,{path:O,component:L}),Object(I.jsx)(u.b,{path:"*",children:Object(I.jsx)(u.a,{to:"/rating-information"})})]})]})},oe=(a(296),new d.QueryClient);r.a.render(Object(I.jsx)(l.a.StrictMode,{children:Object(I.jsx)(c.a,{children:Object(I.jsxs)(d.QueryClientProvider,{client:oe,children:[Object(I.jsx)(le,{}),Object(I.jsx)(s.ReactQueryDevtools,{})]})})}),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.c388f15c.chunk.js.map